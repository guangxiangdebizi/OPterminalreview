# ä¸“é¡¹ç»ƒä¹ 3ï¼šUMLå›¾ï¼ˆç”¨ä¾‹å›¾ä¸ç±»å›¾ï¼‰

## çŸ¥è¯†ç‚¹æ€»ç»“

### 1. ç”¨ä¾‹å›¾ï¼ˆUse Case Diagramï¼‰

#### åŸºæœ¬å…ƒç´ 
- **å‚ä¸è€…ï¼ˆActorï¼‰**ï¼šå°äººå›¾æ ‡ï¼Œè¡¨ç¤ºä¸ç³»ç»Ÿäº¤äº’çš„å¤–éƒ¨è§’è‰²
- **ç”¨ä¾‹ï¼ˆUse Caseï¼‰**ï¼šæ¤­åœ†ï¼Œè¡¨ç¤ºç³»ç»Ÿæä¾›çš„åŠŸèƒ½
- **å…³è”ï¼ˆAssociationï¼‰**ï¼šå®çº¿ï¼Œè¿æ¥å‚ä¸è€…å’Œç”¨ä¾‹
- **ç³»ç»Ÿè¾¹ç•Œ**ï¼šçŸ©å½¢æ¡†ï¼Œè¡¨ç¤ºç³»ç»ŸèŒƒå›´

#### ç”¨ä¾‹ä¹‹é—´çš„å…³ç³»

| å…³ç³»ç±»å‹ | ç¬¦å· | å«ä¹‰ | ç¤ºä¾‹ |
|---------|------|------|------|
| **åŒ…å«ï¼ˆIncludeï¼‰** | è™šçº¿ç®­å¤´ + Â«includeÂ» | AåŒ…å«Bï¼Œæ‰§è¡ŒAå¿…é¡»æ‰§è¡ŒB | "ç½‘ä¸Šè´­ç‰©"åŒ…å«"ç”¨æˆ·ç™»å½•" |
| **æ‰©å±•ï¼ˆExtendï¼‰** | è™šçº¿ç®­å¤´ + Â«extendÂ» | Bæ‰©å±•Aï¼Œæ‰§è¡ŒAæ—¶å¯é€‰æ‰§è¡ŒB | "æ”¯ä»˜è®¢å•"æ‰©å±•ä¸º"ä½¿ç”¨ä¼˜æƒ åˆ¸" |
| **æ³›åŒ–ï¼ˆGeneralizationï¼‰** | å®çº¿ç©ºå¿ƒç®­å¤´ | ç»§æ‰¿å…³ç³»ï¼Œå­ç”¨ä¾‹ç»§æ‰¿çˆ¶ç”¨ä¾‹ | "ä¿¡ç”¨å¡æ”¯ä»˜"æ³›åŒ–è‡ª"åœ¨çº¿æ”¯ä»˜" |

**ç®­å¤´æ–¹å‘è®°å¿†ï¼š**
- Includeï¼šä»åŸºç¡€ç”¨ä¾‹ â†’ è¢«åŒ…å«ç”¨ä¾‹ï¼ˆä¾èµ–æ–¹å‘ï¼‰
- Extendï¼šä»æ‰©å±•ç”¨ä¾‹ â†’ åŸºç¡€ç”¨ä¾‹ï¼ˆæ‰©å±•æ–¹å‘ï¼‰
- Generalizationï¼šä»å­ç”¨ä¾‹ â†’ çˆ¶ç”¨ä¾‹ï¼ˆç»§æ‰¿æ–¹å‘ï¼‰

---

### 2. ç±»å›¾ï¼ˆClass Diagramï¼‰

#### ç±»çš„è¡¨ç¤º
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç±»å           â”‚  ç±»åï¼ˆç²—ä½“ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ç§æœ‰å±æ€§       â”‚  å±æ€§ï¼ˆ- private, + public, # protectedï¼‰
â”‚ + å…¬æœ‰å±æ€§       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + å…¬æœ‰æ–¹æ³•()     â”‚  æ–¹æ³•ï¼ˆæ“ä½œï¼‰
â”‚ - ç§æœ‰æ–¹æ³•()     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç±»ä¹‹é—´çš„å…³ç³»

| å…³ç³»ç±»å‹ | ç¬¦å· | å¼ºå¼± | å«ä¹‰ | ä»£ç è¡¨ç° |
|---------|------|------|------|---------|
| **ä¾èµ–ï¼ˆDependencyï¼‰** | è™šçº¿ç®­å¤´ | æœ€å¼± | Aä½¿ç”¨Bï¼ˆä¸´æ—¶ï¼‰ | Bä½œä¸ºAæ–¹æ³•çš„å‚æ•° |
| **å…³è”ï¼ˆAssociationï¼‰** | å®çº¿ç®­å¤´ | å¼± | AçŸ¥é“Bï¼ˆé•¿æœŸï¼‰ | Aæœ‰Bç±»å‹çš„å±æ€§ |
| **èšåˆï¼ˆAggregationï¼‰** | ç©ºå¿ƒè±å½¢ + å®çº¿ | ä¸­ | AåŒ…å«Bï¼ˆæ•´ä½“-éƒ¨åˆ†ï¼Œå¯åˆ†ç¦»ï¼‰ | Aæœ‰Bçš„é›†åˆï¼ŒBå¯ç‹¬ç«‹å­˜åœ¨ |
| **ç»„åˆï¼ˆCompositionï¼‰** | å®å¿ƒè±å½¢ + å®çº¿ | å¼º | AåŒ…å«Bï¼ˆæ•´ä½“-éƒ¨åˆ†ï¼Œä¸å¯åˆ†ç¦»ï¼‰ | Aæ‹¥æœ‰Bï¼ŒBéšAåˆ›å»ºé”€æ¯ |
| **æ³›åŒ–ï¼ˆGeneralizationï¼‰** | ç©ºå¿ƒä¸‰è§’ç®­å¤´ | å¼º | Bç»§æ‰¿A | class B extends A |
| **å®ç°ï¼ˆRealizationï¼‰** | è™šçº¿ç©ºå¿ƒä¸‰è§’ç®­å¤´ | å¼º | Bå®ç°æ¥å£A | class B implements A |

**è®°å¿†å£è¯€ï¼š**
- è±å½¢åœ¨æ•´ä½“ç«¯ï¼Œç®­å¤´æŒ‡å‘éƒ¨åˆ†
- ç©ºå¿ƒè±å½¢ï¼šèšåˆï¼ˆå¼±ï¼Œå¯åˆ†ç¦»ï¼‰â€”â€” "å¤§é›ä¸é›ç¾¤"
- å®å¿ƒè±å½¢ï¼šç»„åˆï¼ˆå¼ºï¼Œå…±ç”Ÿæ­»ï¼‰â€”â€” "å¿ƒè„ä¸äºº"

#### å¤šé‡æ€§ï¼ˆMultiplicityï¼‰

| è¡¨ç¤º | å«ä¹‰ |
|------|------|
| 1 | æ°å¥½1ä¸ª |
| 0..1 | 0æˆ–1ä¸ª |
| * æˆ– 0..* | 0åˆ°å¤šä¸ª |
| 1..* | 1åˆ°å¤šä¸ª |
| n..m | nåˆ°mä¸ª |

---

## ç»ƒä¹ é¢˜ç›®

### é¢˜ç›®èƒŒæ™¯

æŸ**åœ¨çº¿å¤–å–è®¢é¤å¹³å°**éœ€è¦è¿›è¡Œç³»ç»Ÿåˆ†æä¸è®¾è®¡ã€‚ç³»ç»Ÿæ¶‰åŠä»¥ä¸‹è§’è‰²å’ŒåŠŸèƒ½ï¼š

**è§’è‰²ï¼š**
1. **é¡¾å®¢**ï¼šå¯ä»¥æµè§ˆé¤å…ã€ä¸‹å•ã€æ”¯ä»˜ã€è¯„ä»·
2. **é¤å…ç®¡ç†å‘˜**ï¼šç®¡ç†èœå“ã€å¤„ç†è®¢å•ã€æŸ¥çœ‹è¥ä¸šæ•°æ®
3. **é…é€å‘˜**ï¼šæ¥å•ã€é…é€ã€ç¡®è®¤é€è¾¾
4. **å¹³å°ç®¡ç†å‘˜**ï¼šç®¡ç†ç”¨æˆ·ã€å®¡æ ¸é¤å…ã€å¤„ç†æŠ•è¯‰

**ä¸»è¦åŠŸèƒ½éœ€æ±‚ï¼š**

**é¡¾å®¢ç«¯ï¼š**
1. **ç”¨æˆ·æ³¨å†Œ/ç™»å½•**ï¼šæ–°ç”¨æˆ·æ³¨å†Œè´¦å·ï¼Œè€ç”¨æˆ·ç™»å½•ç³»ç»Ÿï¼ˆæ‰€æœ‰åŠŸèƒ½éƒ½éœ€è¦å…ˆç™»å½•ï¼‰
2. **æµè§ˆé¤å…**ï¼šæŒ‰åœ°ç†ä½ç½®ã€èœç³»ã€è¯„åˆ†ç­›é€‰é¤å…
3. **ä¸‹å•**ï¼š
   - é€‰æ‹©èœå“åŠ å…¥è´­ç‰©è½¦
   - å¡«å†™é…é€åœ°å€
   - é€‰æ‹©æ”¯ä»˜æ–¹å¼ï¼ˆåœ¨çº¿æ”¯ä»˜/è´§åˆ°ä»˜æ¬¾ï¼‰
   - å¦‚æœé€‰æ‹©åœ¨çº¿æ”¯ä»˜ï¼Œå¯ä»¥ä½¿ç”¨ä¼˜æƒ åˆ¸ï¼ˆå¯é€‰ï¼‰
4. **è®¢å•è·Ÿè¸ª**ï¼šå®æ—¶æŸ¥çœ‹è®¢å•çŠ¶æ€ï¼ˆå¾…æ¥å•ã€åˆ¶ä½œä¸­ã€é…é€ä¸­ã€å·²å®Œæˆï¼‰
5. **è¯„ä»·è®¢å•**ï¼šå¯¹å·²å®Œæˆçš„è®¢å•è¿›è¡Œè¯„åˆ†å’Œè¯„è®º

**é¤å…ç®¡ç†å‘˜ç«¯ï¼š**
1. **ç®¡ç†èœå“**ï¼šæ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤èœå“ä¿¡æ¯
2. **å¤„ç†è®¢å•**ï¼šæ¥å•ã€æ ‡è®°åˆ¶ä½œå®Œæˆã€è”ç³»é…é€
3. **æŸ¥çœ‹ç»Ÿè®¡**ï¼šæŸ¥çœ‹é”€å”®æ•°æ®ã€é¡¾å®¢è¯„ä»·

**é…é€å‘˜ç«¯ï¼š**
1. **æ¥æ”¶è®¢å•**ï¼šæŸ¥çœ‹å¾…é…é€è®¢å•åˆ—è¡¨
2. **é…é€ç®¡ç†**ï¼šæ¥å•ã€æ›´æ–°é…é€çŠ¶æ€ã€ç¡®è®¤é€è¾¾

**å¹³å°ç®¡ç†å‘˜ç«¯ï¼š**
1. **å®¡æ ¸é¤å…**ï¼šå®¡æ ¸æ–°å…¥é©»é¤å…çš„èµ„è´¨
2. **å¤„ç†æŠ•è¯‰**ï¼šå¤„ç†ç”¨æˆ·å’Œé¤å…çš„æŠ•è¯‰

**æ ¸å¿ƒä¸šåŠ¡ç±»ï¼š**
- **ç”¨æˆ·ï¼ˆUserï¼‰**ï¼šuserId, userName, password, phone, userType
- **é¡¾å®¢ï¼ˆCustomerï¼‰**ï¼šç»§æ‰¿Userï¼Œæ·»åŠ deliveryAddressesï¼ˆé…é€åœ°å€åˆ—è¡¨ï¼‰
- **é¤å…ï¼ˆRestaurantï¼‰**ï¼šrestaurantId, name, address, rating, menuItems
- **èœå“ï¼ˆMenuItemï¼‰**ï¼šitemId, name, price, description, available
- **è®¢å•ï¼ˆOrderï¼‰**ï¼šorderId, customer, restaurant, orderItems, totalAmount, status, orderTime
- **è®¢å•é¡¹ï¼ˆOrderItemï¼‰**ï¼šmenuItem, quantity, subtotal
- **æ”¯ä»˜ï¼ˆPaymentï¼‰**ï¼špaymentId, order, amount, paymentMethod, paymentTime
- **ä¼˜æƒ åˆ¸ï¼ˆCouponï¼‰**ï¼šcouponId, discountAmount, expiryDate, used

**ç±»ä¹‹é—´çš„å…³ç³»ï¼š**
- é¡¾å®¢ä¸è®¢å•ï¼šä¸€ä¸ªé¡¾å®¢å¯ä»¥æœ‰å¤šä¸ªè®¢å•ï¼ˆ1å¯¹å¤šå…³è”ï¼‰
- è®¢å•ä¸è®¢å•é¡¹ï¼šä¸€ä¸ªè®¢å•åŒ…å«å¤šä¸ªè®¢å•é¡¹ï¼Œè®¢å•é¡¹ä¸èƒ½ç‹¬ç«‹å­˜åœ¨ï¼ˆç»„åˆï¼‰
- è®¢å•ä¸æ”¯ä»˜ï¼šä¸€ä¸ªè®¢å•å¯¹åº”ä¸€ä¸ªæ”¯ä»˜ï¼ˆ1å¯¹1å…³è”ï¼‰
- è®¢å•é¡¹ä¸èœå“ï¼šè®¢å•é¡¹å…³è”èœå“ï¼ˆå¤šå¯¹1å…³è”ï¼‰
- é¤å…ä¸èœå“ï¼šä¸€ä¸ªé¤å…æœ‰å¤šä¸ªèœå“ï¼Œèœå“å±äºé¤å…ï¼ˆèšåˆï¼‰
- æ”¯ä»˜ä¸ä¼˜æƒ åˆ¸ï¼šæ”¯ä»˜å¯èƒ½ä½¿ç”¨ä¼˜æƒ åˆ¸ï¼ˆä¾èµ–ï¼‰

---

### é—®é¢˜

#### ç¬¬ä¸€éƒ¨åˆ†ï¼šç”¨ä¾‹å›¾ï¼ˆ15åˆ†ï¼‰

1. ç»˜åˆ¶**é¡¾å®¢**çš„ç”¨ä¾‹å›¾ï¼ŒåŒ…æ‹¬é¡¾å®¢ç›¸å…³çš„æ‰€æœ‰ç”¨ä¾‹åŠç”¨ä¾‹ä¹‹é—´çš„å…³ç³»ï¼ˆ10åˆ†ï¼‰
2. è¯´æ˜"ä¸‹å•"ä¸"ç”¨æˆ·ç™»å½•"ä¹‹é—´åº”è¯¥æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿï¼ˆ2åˆ†ï¼‰
3. è¯´æ˜"åœ¨çº¿æ”¯ä»˜"ä¸"ä½¿ç”¨ä¼˜æƒ åˆ¸"ä¹‹é—´åº”è¯¥æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿï¼ˆ3åˆ†ï¼‰

#### ç¬¬äºŒéƒ¨åˆ†ï¼šç±»å›¾ï¼ˆ15åˆ†ï¼‰

1. ç»˜åˆ¶å¤–å–è®¢é¤å¹³å°çš„æ ¸å¿ƒç±»å›¾ï¼ŒåŒ…æ‹¬ï¼šUser, Customer, Order, OrderItem, MenuItem, Restaurant, Payment, Couponï¼ˆ12åˆ†ï¼‰
2. è¯´æ˜Orderä¸OrderItemä¹‹é—´ä¸ºä»€ä¹ˆæ˜¯ç»„åˆå…³ç³»è€Œä¸æ˜¯èšåˆå…³ç³»ï¼Ÿï¼ˆ3åˆ†ï¼‰

---

## æ ‡å‡†ç­”æ¡ˆ

### ç¬¬ä¸€éƒ¨åˆ†ï¼šç”¨ä¾‹å›¾

#### 1. é¡¾å®¢ç”¨ä¾‹å›¾ï¼ˆ10åˆ†ï¼‰

```mermaid
graph TB
    subgraph åœ¨çº¿å¤–å–è®¢é¤å¹³å°
        UC1((ç”¨æˆ·ç™»å½•))
        UC2((æµè§ˆé¤å…))
        UC3((ä¸‹å•))
        UC4((é€‰æ‹©èœå“))
        UC5((å¡«å†™é…é€åœ°å€))
        UC6((é€‰æ‹©æ”¯ä»˜æ–¹å¼))
        UC7((åœ¨çº¿æ”¯ä»˜))
        UC8((è´§åˆ°ä»˜æ¬¾))
        UC9((ä½¿ç”¨ä¼˜æƒ åˆ¸))
        UC10((è®¢å•è·Ÿè¸ª))
        UC11((è¯„ä»·è®¢å•))
        
        UC2 -.->|include| UC1
        UC3 -.->|include| UC1
        UC3 -.->|include| UC4
        UC3 -.->|include| UC5
        UC3 -.->|include| UC6
        UC6 --> UC7
        UC6 --> UC8
        UC9 -.->|extend| UC7
        UC10 -.->|include| UC1
        UC11 -.->|include| UC1
    end
    
    Actor1[é¡¾å®¢] --> UC2
    Actor1 --> UC3
    Actor1 --> UC10
    Actor1 --> UC11
```

**Mermaidä»£ç è¯´æ˜ï¼š**

ç”±äºMermaidçš„ç”¨ä¾‹å›¾æ”¯æŒæœ‰é™ï¼Œè¿™é‡Œä½¿ç”¨æµç¨‹å›¾æ¨¡æ‹Ÿã€‚æ ‡å‡†UMLç”¨ä¾‹å›¾åº”è¯¥æ˜¯ï¼š

```mermaid
graph LR
    Customer[ğŸ‘¤é¡¾å®¢]
    
    subgraph System["åœ¨çº¿å¤–å–è®¢é¤å¹³å°"]
        Login((ç”¨æˆ·ç™»å½•))
        Browse((æµè§ˆé¤å…))
        Order((ä¸‹å•))
        SelectItems((é€‰æ‹©èœå“))
        Address((å¡«å†™é…é€åœ°å€))
        PayMethod((é€‰æ‹©æ”¯ä»˜æ–¹å¼))
        OnlinePay((åœ¨çº¿æ”¯ä»˜))
        CashPay((è´§åˆ°ä»˜æ¬¾))
        UseCoupon((ä½¿ç”¨ä¼˜æƒ åˆ¸))
        Track((è®¢å•è·Ÿè¸ª))
        Review((è¯„ä»·è®¢å•))
    end
    
    Customer --> Browse
    Customer --> Order
    Customer --> Track
    Customer --> Review
    
    Browse -.->|Â«includeÂ»| Login
    Order -.->|Â«includeÂ»| Login
    Order -.->|Â«includeÂ»| SelectItems
    Order -.->|Â«includeÂ»| Address
    Order -.->|Â«includeÂ»| PayMethod
    Track -.->|Â«includeÂ»| Login
    Review -.->|Â«includeÂ»| Login
    
    PayMethod --> OnlinePay
    PayMethod --> CashPay
    UseCoupon -.->|Â«extendÂ»| OnlinePay
```

**è¯„åˆ†æ ‡å‡†ï¼š**
- æ­£ç¡®è¯†åˆ«æ‰€æœ‰é¡¾å®¢ç›¸å…³ç”¨ä¾‹ï¼ˆè‡³å°‘8ä¸ªä¸»è¦ç”¨ä¾‹ï¼‰ï¼š3åˆ†
- æ­£ç¡®æ ‡æ³¨includeå…³ç³»ï¼ˆç”¨æˆ·ç™»å½•ã€é€‰æ‹©èœå“ç­‰ï¼‰ï¼š3åˆ†
- æ­£ç¡®æ ‡æ³¨extendå…³ç³»ï¼ˆä½¿ç”¨ä¼˜æƒ åˆ¸ï¼‰ï¼š2åˆ†
- æ­£ç¡®æ ‡æ³¨æ³›åŒ–å…³ç³»ï¼ˆåœ¨çº¿æ”¯ä»˜ã€è´§åˆ°ä»˜æ¬¾ï¼‰ï¼š2åˆ†

---

#### 2. "ä¸‹å•"ä¸"ç”¨æˆ·ç™»å½•"å…³ç³»ï¼ˆ2åˆ†ï¼‰

**ç­”æ¡ˆï¼šIncludeï¼ˆåŒ…å«ï¼‰å…³ç³»**ï¼ˆ1åˆ†ï¼‰

**ç†ç”±ï¼š**ï¼ˆ1åˆ†ï¼‰
- æ‰§è¡Œ"ä¸‹å•"åŠŸèƒ½**å¿…é¡»**å…ˆæ‰§è¡Œ"ç”¨æˆ·ç™»å½•"
- è¿™æ˜¯å¼ºåˆ¶æ€§çš„å‰ç½®æ¡ä»¶ï¼Œä¸æ˜¯å¯é€‰çš„
- ç¬¦åˆincludeå…³ç³»çš„å®šä¹‰ï¼šåŸºç¡€ç”¨ä¾‹å¿…é¡»åŒ…å«è¢«åŒ…å«ç”¨ä¾‹

**ç®­å¤´æ–¹å‘ï¼š**
```
ä¸‹å• -.->|Â«includeÂ»| ç”¨æˆ·ç™»å½•
```

---

#### 3. "åœ¨çº¿æ”¯ä»˜"ä¸"ä½¿ç”¨ä¼˜æƒ åˆ¸"å…³ç³»ï¼ˆ3åˆ†ï¼‰

**ç­”æ¡ˆï¼šExtendï¼ˆæ‰©å±•ï¼‰å…³ç³»**ï¼ˆ1.5åˆ†ï¼‰

**ç†ç”±ï¼š**ï¼ˆ1.5åˆ†ï¼‰
- "ä½¿ç”¨ä¼˜æƒ åˆ¸"æ˜¯"åœ¨çº¿æ”¯ä»˜"çš„**å¯é€‰**æ‰©å±•åŠŸèƒ½
- åœ¨çº¿æ”¯ä»˜å¯ä»¥ç‹¬ç«‹å®Œæˆï¼Œä¸ä¾èµ–ä¼˜æƒ åˆ¸
- åªæœ‰åœ¨é¡¾å®¢é€‰æ‹©ä½¿ç”¨ä¼˜æƒ åˆ¸æ—¶æ‰æ‰§è¡Œ
- ç¬¦åˆextendå…³ç³»çš„å®šä¹‰ï¼šåœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ‰©å±•åŸºç¡€ç”¨ä¾‹

**ç®­å¤´æ–¹å‘ï¼š**
```
ä½¿ç”¨ä¼˜æƒ åˆ¸ -.->|Â«extendÂ»| åœ¨çº¿æ”¯ä»˜
```

**æ˜“é”™ç‚¹ï¼š**
- âŒ ä¸è¦æ··æ·†ä¸ºincludeï¼šä½¿ç”¨ä¼˜æƒ åˆ¸ä¸æ˜¯å¿…é¡»çš„
- âŒ ç®­å¤´æ–¹å‘ä¸è¦åï¼šä»æ‰©å±•ç”¨ä¾‹æŒ‡å‘åŸºç¡€ç”¨ä¾‹

---

### ç¬¬äºŒéƒ¨åˆ†ï¼šç±»å›¾

#### 1. æ ¸å¿ƒç±»å›¾ï¼ˆ12åˆ†ï¼‰

```mermaid
classDiagram
    class User {
        <<abstract>>
        - userId: String
        - userName: String
        - password: String
        - phone: String
        - userType: String
        + login()
        + logout()
    }
    
    class Customer {
        - deliveryAddresses: List~String~
        + addAddress()
        + browseRestaurant()
        + placeOrder()
    }
    
    class Restaurant {
        - restaurantId: String
        - name: String
        - address: String
        - rating: double
        + addMenuItem()
        + removeMenuItem()
    }
    
    class MenuItem {
        - itemId: String
        - name: String
        - price: double
        - description: String
        - available: boolean
        + updatePrice()
    }
    
    class Order {
        - orderId: String
        - totalAmount: double
        - status: String
        - orderTime: DateTime
        + calculateTotal()
        + updateStatus()
    }
    
    class OrderItem {
        - quantity: int
        - subtotal: double
        + calculateSubtotal()
    }
    
    class Payment {
        - paymentId: String
        - amount: double
        - paymentMethod: String
        - paymentTime: DateTime
        + processPayment()
    }
    
    class Coupon {
        - couponId: String
        - discountAmount: double
        - expiryDate: Date
        - used: boolean
        + isValid()
    }
    
    User <|-- Customer : æ³›åŒ–
    Customer "1" --> "0..*" Order : ä¸‹å•
    Order "1" *-- "1..*" OrderItem : ç»„åˆ
    OrderItem "0..*" --> "1" MenuItem : å…³è”
    Restaurant "1" o-- "0..*" MenuItem : èšåˆ
    Order "1" --> "1" Payment : å…³è”
    Payment ..> Coupon : ä¾èµ–
    Order "0..*" --> "1" Restaurant : å…³è”
```

**è¯„åˆ†æ ‡å‡†ï¼š**
- æ­£ç¡®å®šä¹‰8ä¸ªç±»åŠå…¶å±æ€§å’Œæ–¹æ³•ï¼š4åˆ†ï¼ˆæ¯ä¸ªç±»0.5åˆ†ï¼‰
- æ­£ç¡®æ ‡æ³¨æ³›åŒ–å…³ç³»ï¼ˆUser â†’ Customerï¼‰ï¼š1åˆ†
- æ­£ç¡®æ ‡æ³¨ç»„åˆå…³ç³»ï¼ˆOrder â—†â†’ OrderItemï¼‰ï¼š2åˆ†
- æ­£ç¡®æ ‡æ³¨èšåˆå…³ç³»ï¼ˆRestaurant â—‡â†’ MenuItemï¼‰ï¼š1.5åˆ†
- æ­£ç¡®æ ‡æ³¨å…³è”å…³ç³»ï¼ˆCustomer â†’ Order, Order â†’ Paymentç­‰ï¼‰ï¼š2åˆ†
- æ­£ç¡®æ ‡æ³¨ä¾èµ–å…³ç³»ï¼ˆPayment ..> Couponï¼‰ï¼š1åˆ†
- æ­£ç¡®æ ‡æ³¨å¤šé‡æ€§ï¼ˆ1, 0..*, 1..*ï¼‰ï¼š0.5åˆ†

---

#### 2. Orderä¸OrderItemä¸ºä»€ä¹ˆæ˜¯ç»„åˆå…³ç³»ï¼Ÿï¼ˆ3åˆ†ï¼‰

**ç­”æ¡ˆï¼šç»„åˆï¼ˆCompositionï¼‰å…³ç³»**ï¼ˆ1åˆ†ï¼‰

**ç†ç”±ï¼š**ï¼ˆ2åˆ†ï¼‰

1. **ç”Ÿå‘½å‘¨æœŸå¼ºä¾èµ–**ï¼ˆ1åˆ†ï¼‰
   - OrderItemçš„ç”Ÿå‘½å‘¨æœŸå®Œå…¨ä¾èµ–äºOrder
   - å½“Orderè¢«åˆ é™¤æ—¶ï¼Œæ‰€æœ‰OrderItemä¹Ÿå¿…é¡»è¢«åˆ é™¤
   - OrderItemä¸èƒ½ç‹¬ç«‹äºOrderå­˜åœ¨

2. **æ•´ä½“-éƒ¨åˆ†å…³ç³»ï¼Œä¸”éƒ¨åˆ†ä¸å¯åˆ†ç¦»**ï¼ˆ1åˆ†ï¼‰
   - Orderæ˜¯æ•´ä½“ï¼ŒOrderItemæ˜¯éƒ¨åˆ†
   - ä¸€ä¸ªOrderItemåªèƒ½å±äºä¸€ä¸ªOrder
   - OrderItemä¸èƒ½è¢«å¤šä¸ªOrderå…±äº«
   - OrderItemä¸èƒ½åœ¨Orderä¹‹å¤–å•ç‹¬å­˜åœ¨

**å¯¹æ¯”ï¼šä¸ºä»€ä¹ˆä¸æ˜¯èšåˆï¼Ÿ**

å¦‚æœæ˜¯èšåˆå…³ç³»ï¼ˆå¦‚Restaurant â—‡â†’ MenuItemï¼‰ï¼š
- MenuItemå¯ä»¥ç‹¬ç«‹å­˜åœ¨ï¼ˆå³ä½¿é¤å…å…³é—­ï¼Œèœå“ä¿¡æ¯å¯èƒ½ä»ä¿ç•™åœ¨ç³»ç»Ÿä¸­ï¼‰
- MenuItemå¯ä»¥è¢«å¤šä¸ªè®¢å•å¼•ç”¨
- MenuItemçš„ç”Ÿå‘½å‘¨æœŸä¸ä¾èµ–äºRestaurant

**ä»£ç ä½“ç°ï¼š**
```java
class Order {
    private List<OrderItem> orderItems; // Orderæ‹¥æœ‰OrderItem
    
    public Order() {
        this.orderItems = new ArrayList<>(); // åˆ›å»ºOrderæ—¶åˆ›å»ºå®¹å™¨
    }
    
    public void addItem(MenuItem item, int quantity) {
        OrderItem orderItem = new OrderItem(item, quantity); // åˆ›å»ºOrderItem
        orderItems.add(orderItem);
    }
    
    // åˆ é™¤Orderæ—¶ï¼ŒOrderItemä¹Ÿä¼šè¢«åˆ é™¤ï¼ˆé€šè¿‡åƒåœ¾å›æ”¶ï¼‰
}
```

---

## è§£é¢˜æŠ€å·§

### 1. ç”¨ä¾‹å›¾å…³ç³»åˆ¤æ–­å£è¯€

| å…³ç³» | åˆ¤æ–­æ–¹æ³• | å…³é”®è¯ |
|------|---------|-------|
| Include | "å¿…é¡»" "æ€»æ˜¯" "å‰æ" | æ‰§è¡ŒAå¿…é¡»æ‰§è¡ŒB |
| Extend | "å¯é€‰" "æœ‰æ—¶" "æ‰©å±•" | æ‰§è¡ŒAæ—¶å¯èƒ½æ‰§è¡ŒB |
| Generalization | "æ˜¯ä¸€ç§" "ç»§æ‰¿" | Bæ˜¯Açš„ä¸€ç§ç‰¹æ®Šå½¢å¼ |

**å…¸å‹åœºæ™¯ï¼š**
- **Include**ï¼šç™»å½•éªŒè¯ã€èº«ä»½æ£€æŸ¥ã€æ•°æ®éªŒè¯ï¼ˆå¼ºåˆ¶å‰ç½®ï¼‰
- **Extend**ï¼šä½¿ç”¨ä¼˜æƒ ã€æ·»åŠ å¤‡æ³¨ã€ç´§æ€¥å¤„ç†ï¼ˆå¯é€‰æ‰©å±•ï¼‰
- **Generalization**ï¼šæ”¯ä»˜æ–¹å¼ï¼ˆä¿¡ç”¨å¡/æ”¯ä»˜å®ï¼‰ã€ç”¨æˆ·ç±»å‹ï¼ˆç®¡ç†å‘˜/æ™®é€šç”¨æˆ·ï¼‰

---

### 2. ç±»å›¾å…³ç³»å¼ºåº¦æ’åº

```
ä¾èµ– < å…³è” < èšåˆ < ç»„åˆ â‰ˆ æ³›åŒ–/å®ç°
```

**åˆ¤æ–­æµç¨‹å›¾ï¼š**

```mermaid
graph TD
    Start[åˆ¤æ–­ç±»å…³ç³»] --> Q1{Bç»§æ‰¿A?}
    Q1 -->|æ˜¯| R1[æ³›åŒ– â–·]
    Q1 -->|å¦| Q2{Bå®ç°æ¥å£A?}
    Q2 -->|æ˜¯| R2[å®ç° â–·]
    Q2 -->|å¦| Q3{Bæ‹¥æœ‰Aä¸”å…±ç”Ÿæ­»?}
    Q3 -->|æ˜¯| R3[ç»„åˆ â—†â†’]
    Q3 -->|å¦| Q4{BåŒ…å«Aä½†å¯åˆ†ç¦»?}
    Q4 -->|æ˜¯| R4[èšåˆ â—‡â†’]
    Q4 -->|å¦| Q5{Bæœ‰Aç±»å‹å±æ€§?}
    Q5 -->|æ˜¯| R5[å…³è” â†’]
    Q5 -->|å¦| Q6{Bæ–¹æ³•å‚æ•°æœ‰A?}
    Q6 -->|æ˜¯| R6[ä¾èµ– ..>]
```

---

### 3. å¤šé‡æ€§æ ‡æ³¨ä½ç½®

```
ç±»A -----æ•°å­—1----- å…³ç³»ç¬¦å· -----æ•°å­—2----- ç±»B
      â†‘                                    â†‘
   Bç«¯çš„æ•°é‡                            Aç«¯çš„æ•°é‡
```

**ç¤ºä¾‹ï¼š**
```
Customer "1" --> "0..*" Order
å«ä¹‰ï¼š1ä¸ªCustomerå¯ä»¥æœ‰0åˆ°å¤šä¸ªOrder
```

**å¸¸è§é”™è¯¯ï¼š**
- âŒ æ•°å­—ä½ç½®æ ‡å
- âŒ å¿˜è®°æ ‡æ³¨å¤šé‡æ€§
- âœ… æ•°å­—æ ‡åœ¨å¯¹æ–¹ç«¯

---

### 4. èšåˆ vs ç»„åˆå¿«é€Ÿåˆ¤æ–­

| åˆ¤æ–­æ ‡å‡† | èšåˆ | ç»„åˆ |
|---------|------|------|
| ç”Ÿå‘½å‘¨æœŸ | ç‹¬ç«‹ | ä¾èµ– |
| èƒ½å¦å…±äº« | å¯ä»¥ | ä¸èƒ½ |
| è±å½¢ç±»å‹ | ç©ºå¿ƒâ—‡ | å®å¿ƒâ—† |
| å…¸å‹ä¾‹å­ | å¤§å­¦-æ•™æˆ | äºº-å¿ƒè„ |

**è®°å¿†æŠ€å·§ï¼š**
- èšåˆï¼šé›ç¾¤å’Œå¤§é›ï¼ˆå¤§é›å¯ä»¥æ¢ç¾¤ï¼Œå¯ä»¥ç‹¬ç«‹ç”Ÿå­˜ï¼‰
- ç»„åˆï¼šäººå’Œå¿ƒè„ï¼ˆå¿ƒè„ç¦»å¼€äººå°±æ­»äº†ï¼Œä¸èƒ½å…±äº«ï¼‰

---

## æ‰©å±•ç»ƒä¹ 

### ç»ƒä¹ 1ï¼šè¡¥å……ç”¨ä¾‹å›¾
ä¸º"é¤å…ç®¡ç†å‘˜"å’Œ"é…é€å‘˜"ç»˜åˆ¶å®Œæ•´çš„ç”¨ä¾‹å›¾ï¼Œå¹¶æ ‡æ³¨ä¸é¡¾å®¢ç”¨ä¾‹çš„å…³ç³»ï¼ˆå¦‚"å¤„ç†è®¢å•"ä¸"ä¸‹å•"çš„å…³ç³»ï¼‰ã€‚

### ç»ƒä¹ 2ï¼šç±»å›¾æ‰©å±•
åœ¨ç°æœ‰ç±»å›¾åŸºç¡€ä¸Šï¼Œæ·»åŠ ï¼š
1. **é…é€ï¼ˆDeliveryï¼‰ç±»**ï¼šdeliveryId, deliveryPerson, pickupTime, deliveryTime
2. **è¯„ä»·ï¼ˆReviewï¼‰ç±»**ï¼šreviewId, rating, comment, reviewTime
3. æ ‡æ³¨å®ƒä»¬ä¸Orderçš„å…³ç³»

### ç»ƒä¹ 3ï¼šå…³ç³»è¾¨æ
åˆ¤æ–­ä»¥ä¸‹åœºæ™¯åº”è¯¥ä½¿ç”¨ä»€ä¹ˆç±»å…³ç³»ï¼š
1. æ±½è½¦ä¸å‘åŠ¨æœº
2. å›¾ä¹¦é¦†ä¸å›¾ä¹¦
3. å­¦ç”Ÿä¸è¯¾ç¨‹
4. æ‰“å°æœºä¸æ‰“å°ä»»åŠ¡

ï¼ˆç­”æ¡ˆï¼š1.ç»„åˆ 2.èšåˆ 3.å¤šå¯¹å¤šå…³è” 4.ä¾èµ–ï¼‰

