# 操作系统原理 - 模拟试卷二

## 📋 使用说明

**建议使用方法**：
1. 先独立完成模拟试卷（限时）
2. 对照答案批改
3. 仔细阅读解题思路
4. 总结错题和薄弱点

---

## 一、填空题（10分）

1. 在批处理系统中，作业调度从______中选择作业，而进程调度从______中选择进程。

2. 在分段存储管理中，逻辑地址由______和______两部分组成。段表中每个表项包含______和______。

3. 常见的页面置换算法有FIFO、______、______和Clock算法。其中______算法的缺页率最低，但实际无法实现。

4. 在设备管理中，采用DMA方式进行数据传输时，CPU与DMA控制器之间可能发生______现象。减少中断次数最有效的I/O控制方式是______。

5. 文件系统中，采用______可以将独占设备改造为共享设备。位示图法用于管理______。

---

## 二、设计题（15分）

**题目**：某停车场只有一个入口和一个出口，且只能容纳n辆汽车。现有m辆汽车要进入停车场。当停车场满时，后来的汽车需要在外面等待。请用信号量和PV操作实现停车场管理的同步与互斥。

**要求**：
1. 定义所需的信号量及初始值
2. 用cobegin/coend表示并发进程
3. 写出进入停车场和离开停车场的伪代码

---

## 三、问答题（40分）

### 题目1：进程调度（10分）

某系统有5个进程，它们的到达时间、服务时间和优先数如下表所示：

| 进程 | 到达时间 | 服务时间 | 优先数 |
|------|---------|---------|--------|
| P1   | 0       | 5       | 3      |
| P2   | 1       | 3       | 1      |
| P3   | 2       | 2       | 4      |
| P4   | 3       | 4       | 2      |
| P5   | 4       | 6       | 5      |

请用优先数调度算法（非抢占，数字越小优先级越高）计算平均周转时间和平均带权周转时间。

要求画出甘特图，列出计算过程。

---

### 题目2：银行家算法（10分）

某系统有3种资源类型A、B、C，数量分别为9、8、6。在T0时刻，系统中有4个进程P0、P1、P2、P3，它们的资源分配情况如下：

|     | Max资源需求 |     |     | Allocation已分配 |     |     |
|-----|------------|-----|-----|-----------------|-----|-----|
|     | A          | B   | C   | A               | B   | C   |
| P0  | 3          | 3   | 2   | 1               | 1   | 0   |
| P1  | 6          | 1   | 2   | 5               | 1   | 1   |
| P2  | 3          | 4   | 2   | 2               | 1   | 1   |
| P3  | 4          | 3   | 3   | 0               | 6   | 3   |

请回答：
1. 计算Need矩阵和Available向量
2. 判断T0时刻系统是否处于安全状态？如果是，给出一个安全序列
3. 如果进程P2请求资源(1, 1, 0)，系统是否应该分配？请说明理由

---

### 题目3：页面置换算法（10分）

某系统采用分页存储管理，分配给某进程4个页框，初始时页框为空。该进程访问的页面序列为：1, 2, 3, 4, 1, 2, 5, 1, 2, 3, 4, 5

请分别用以下算法计算缺页次数和缺页率：
1. FIFO（先进先出）
2. Clock算法（初始时钟指针指向页框0）

要求列出每次访问时的页框状态和是否缺页。

---

### 题目4：磁盘调度（10分）

某磁盘系统有200个柱面（0-199），当前磁头位于53号柱面，刚刚访问完的柱面是37号。磁盘请求队列中的柱面号依次为：98, 183, 37, 122, 14, 124, 65, 67

请分别用以下算法计算磁头移动的总柱面数（寻道长度）：
1. SCAN（扫描算法，向磁道号增大方向移动）
2. C-SCAN（循环扫描算法，向磁道号增大方向移动）

要求列出访问顺序和移动距离。

---

## 四、选择题（15分，每题3分）

### 题目1
在多道程序环境下，操作系统分配资源是以（ ）为单位的。

A. 程序  
B. 指令  
C. 进程  
D. 作业

---

### 题目2
某计算机系统采用分页存储管理，页面大小为4KB，进程的逻辑地址空间为1GB，物理内存为512MB。则页表项的个数为（ ）

A. 128K  
B. 256K  
C. 512K  
D. 1024K

---

### 题目3
下列关于虚拟存储器的叙述中，错误的是（ ）

A. 虚拟存储器的容量由外存容量和内存容量共同决定  
B. 虚拟存储器实际上是对物理内存的扩展  
C. 虚拟存储器只能基于分页系统实现  
D. 虚拟存储器允许将一个作业分多次调入内存运行

---

### 题目4
在I/O设备管理中，引入缓冲技术的主要目的是（ ）

A. 提高CPU与设备之间的并行性  
B. 减少对CPU的中断频率  
C. 缓和CPU与I/O设备之间速度不匹配的矛盾  
D. 以上都是

---

### 题目5
在UNIX文件系统中，当一个文件的链接计数为0且没有进程打开该文件时，系统将（ ）

A. 立即删除该文件  
B. 保留该文件直到系统重启  
C. 将该文件标记为已删除，但不立即删除  
D. 将该文件移到回收站

---

## 五、简答题（20分，每题5分）

### 题目1
请简述操作系统中"临界区"的概念，以及进入临界区必须遵循的四个原则。

---

### 题目2
比较分页和分段存储管理的异同，并说明段页式存储管理的优点。

---

### 题目3
什么是虚拟设备？SPOOLing技术的组成和工作原理是什么？

---

### 题目4
请从操作系统原理的角度，说明云计算中的"弹性伸缩"是如何实现的，涉及哪些操作系统技术。

---

## 📝 答题提示

**填空题答案提示**：
1. 后备作业队列；就绪队列
2. 段号；段内偏移；段基址；段长
3. LRU；OPT（最佳置换）；OPT
4. 冲突（或周期挪用）；通道
5. SPOOLing技术；磁盘空闲块

**设计题提示**：
- 关键信号量：停车位数量（初始为n）、入口互斥、出口互斥
- 注意进入和离开的PV操作顺序

**问答题提示**：
- 题目1：优先数小的先执行，每次从就绪队列选择优先数最小的进程
- 题目2：需要检查Available是否充足，注意P3已占用资源较多
- 题目3：Clock算法使用访问位，第二次扫描才置换
- 题目4：SCAN到达边界后返回，C-SCAN到达边界后回到起点

**选择题答案提示**：
1. C  2. B  3. C  4. D  5. A

**简答题答案要点**：
1. 临界区定义、空闲让进、忙则等待、有限等待、让权等待
2. 分页分段对比表、段页式结合优点
3. SPOOLing系统组成（输入井、输出井、输入进程、输出进程）
4. 云计算弹性伸缩涉及：进程/线程调度、虚拟化技术、资源分配

---

**祝您考试顺利！🎉**

