# 网络安全协议与技术

> 本文档整理自课程图片内容，结合《信息安全复习资料.md》

---

## 5.1 SSL/TLS协议 ⭐⭐⭐⭐（重点）

### SSL/TLS协议（C/S认证，安全通道）

**协议层次结构：**

```
┌────────────────────────────────────────────┐
│  HTTP     SMTP      Telnet      其他应用    │
├────────────────────────────────────────────┤
│  TLS握手协议    TLS更改密码规范协议          │
│  建立C/S之间     改变密码参数                │
│  安全通道                                   │
│              TLS警告协议                    │
│             向对断指示其                     │
│             安全错误                         │
│          TLS记录协议                        │
│          处理数据                           │
├────────────────────────────────────────────┤
│                 TCP                         │
├────────────────────────────────────────────┤
│                  IP                         │
└────────────────────────────────────────────┘

图7-7 TLS在TCP/IP协议中的位置
```

> 💡 **考试重点**：TLS协议层次和握手过程（参考复习资料第419-466页）

**【参考内容】SSL/TLS协议（重点）：**

**1. 基本概念：**
- **传输层安全协议**（Transport Layer Security）
- HTTPS的基础
- 前身是SSL（Secure Sockets Layer）

**2. 协议层次：**
1. **记录协议（Record Protocol）**
   - 最底层协议
   - 提供数据的保密性和完整性
   
2. **握手协议（Handshake Protocol）**
   - 建立连接
   - 协商加密参数
   - 认证通信双方
   
3. **更改密码规范协议**
   - 通知对方改变加密策略
   
4. **警告协议**
   - 传递警告信息

**3. TLS握手协议（重点）：**

**单向认证：**
- **服务器向客户端证明身份**
- 使用服务器的数字证书
- 客户端验证服务器证书
- 应用场景：大多数HTTPS网站（如购物网站）

**双向认证：**
- **服务器和客户端互相认证**
- 双方都提供数字证书
- 更高的安全性
- 应用场景：银行系统、企业VPN

**4. 认证机制：**
- 使用数字签名技术
- 使用数字证书验证身份
- 证书本质就是数字签名

---

## 5.2 TLS握手协议（双向认证的握手）⭐⭐⭐⭐

### 采用双向认证的TLS握手协议过程

```
客户端          密码算法标识、参数、随机协商随机数          服务器
              ←────────────────────────────
                        随机数
              ServerHello ←────────────────
                         公钥证书
              Certificate ←────────────────
                       索取公钥证书
        CertificateRequest ←────────────────
                       响应完毕
          ServerHelloDone ←────────────────

验证证书，用互发随机数生成密钥    公钥证书
              Certificate ─────────────────→
         用服务器公钥加密生成的密钥  ClientKeyExchange
              ─────────────────────────────→
该消息发送端与之前一样    Certificate_Verify
              ─────────────────────────────→
              已更改加密策略
        ChangeCipherSpec ─────────────────→
              完成握手
              Finished ─────────────────────→

        ChangeCipherSpec ←────────────────
              Finished ←────────────────
              ↕ 加密数据通信 ↕
              Close_Notify
        ─────────────────────────────→
              Close_Notify
        ←────────────────────────────

图7-10  采用双向认证的TLS握手协议过程
```

### 关键知识点

- **单向认证**：服务器向客户端证明身份
- **双向认证**：服务器和客户端互相认证
- **认证机制**：使用数字签名和数字证书
- **证书本质**：就是数字签名

> ⚠️ **重点强调**：看到TLS协议，要能联想到数字证书→数字签名→签名功能这一串知识点（参考复习资料第432-466页）

**【参考内容】TLS协议的知识点联系（重点）：**

**关键知识点联系链：**
```
TLS协议 → 数字证书 → 数字签名 → 签名功能
         ↓           ↓           ↓
      身份认证    公钥验证    不可抵赖
         ↓           ↓           ↓
      单向/双向   CA签发     公钥密码
```

**1. TLS协议 → 数字证书：**
- TLS握手过程中需要验证身份
- 服务器（或客户端）提供数字证书
- 证书包含公钥和身份信息

**2. 数字证书 → 数字签名：**
- **数字证书的本质就是数字签名**
- 证书由CA用私钥签名
- 任何人可以用CA的公钥验证证书真实性

**3. 数字签名 → 签名功能：**
数字签名的功能（5-6个）：
- ✅ **身份认证**：证明签名者身份
- ✅ **不可抵赖**：签名者无法否认
- ✅ **消息完整性**：防止篡改
- ✅ **公开验证**：任何人都可以验证
- ✅ **防伪造**：只有私钥持有者能签名
- ✅ **法律效力**：具有法律约束力

**4. 与震网病毒的联系：**
- 震网病毒需要突破数字证书
- 获取了合法的数字签名
- 绕过了TLS/SSL安全检查
- 看到"数字证书"要能联想到震网病毒

**5. 数字签名 vs 消息鉴别码：**
- 数字签名：基于公钥密码，支持不可抵赖
- 消息鉴别码：基于对称密码，不支持不可抵赖

> 💡 **考试提示**：看到TLS协议，要能联想到这一串知识点，形成知识链条

---

## 5.3 隧道类型

### 隧道分类

◆ **根据隧道端点是客户端计算机还是接入服务器的不同，隧道有自愿隧道（Voluntary Tunnel）和强制隧道（Compulsory Tunnel）两种。**

● **自愿隧道**：由客户端计算机或路由器，使用隧道客户软件创建到目标隧道服务器的虚拟连接时建立的隧道，属于自愿隧道。

● **强制隧道**：由支持VPN的拨号接入服务器创建的隧道，属于强制隧道。

---

## 5.4 电力系统安全防护（重点）⭐⭐⭐⭐⭐

### 横向隔离

![国家电网公司安全防护体系示意图]

**国家电网公司按照"安全分区、网络专用、横向隔离、纵向认证"的安全防护总体策略全面建立了电力监控安全防护体系**，覆盖了五级电网调度1千余家、各类变电站4万多座和发电厂1千多座，形成栅格状安全防护体系。

### 安全分区原则

1. **安全分区**
2. **网络专用**
3. **横向隔离**
4. **纵向认证**

**图示包括：**
- 生产控制大区（控制区、非控制区）
- 管理信息大区（管理区、信息区）
- 电力调度数据网
- 电力企业数据网
- 防火墙、隔离设备等

● **共部署专用安全防护设备4万套。**

> ⚠️ **重点强调**：
> - 这部分内容课本上没有
> - 可以抄到课本上
> - 一定要理解
> - 这是重要考点（参考复习资料第506-538页）

**【参考内容】电力系统安全防护（重点）：**

**1. 基本规范：**
- 总则
- 安全分区
- 网络专用
- **横向隔离**
- **纵向认证**

**2. 横向隔离和纵向认证（必考）：**

**横向隔离：**
- **定义**：不同安全区域之间物理隔离
- **实现方式**：
  - 使用隔离设备（如网闸、单向传输装置）
  - 物理隔离，不是逻辑隔离
  - 不同安全级别的网络不直接连接
- **目的**：防止横向渗透，阻止攻击在不同区域间传播
- **应用**：生产控制区与管理信息区之间的隔离

**纵向认证：**
- **定义**：上下级之间的身份认证
- **本质**：**就是数字签名技术**
- **实现方式**：
  - 使用数字证书
  - 使用数字签名
  - 公钥密码体制
- **目的**：确保上下级通信的真实性和完整性
- **应用**：电力调度系统的多级认证
- **实验内容**：实验就是实现一个数字签名

**3. 安全分区：**
- **生产控制大区**：最核心的区域
  - 控制区（安全区I）
  - 非控制生产区（安全区II）
- **管理信息大区**：管理相关信息
- **分区原则**：
  - 看系统架构图
  - 有防火墙分隔
  - 有隔离设备保护
  - 分为不同安全区域

**4. 四个基本原则：**
1. **安全分区**：划分不同安全级别区域
2. **网络专用**：专网专用，不混用
3. **横向隔离**：区域间物理隔离
4. **纵向认证**：上下级数字签名认证

> ⚠️ **重点强调**：
> - 这部分内容课本上没有
> - 可以抄到课本上（开卷考试）
> - 一定要理解原理
> - 这是重要考点，每年必考

### 横向隔离和纵向认证（必考）

**横向隔离**：
- 不同安全区域之间物理隔离
- 使用隔离设备（如网闸）
- 防止横向渗透

**纵向认证**：
- 上下级之间的身份认证
- **本质就是数字签名技术**
- 实验就是实现一个数字签名

---

## 重点知识总结

### 必须掌握的内容：

1. **TLS协议层次**：握手协议、记录协议、警告协议、更改密码规范协议
2. **TLS单向/双向认证**：握手过程
3. **电力系统安全**：安全分区、横向隔离、纵向认证（⭐⭐⭐⭐⭐）
4. **隧道类型**：自愿隧道vs强制隧道
5. **VPN原理**：加密技术、隧道技术、身份认证

### 与复习资料对应：

- 对应《信息安全复习资料.md》第七章和第八章
- 重要程度：⭐⭐⭐⭐⭐（电力系统安全是重点）
- 必考内容：横向隔离和纵向认证

---

*本文档根据课程图片整理，建议结合《信息安全复习资料.md》深入学习电力系统安全部分*


